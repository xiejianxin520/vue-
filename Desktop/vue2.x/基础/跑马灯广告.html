<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <div id="app">
    <input type="button" value="开始广告" @click ='start'>
    <input type="button" value="停止" @click ='stop' >
    <h2>{{msg}}</h2>
  </div>
  
  <script src="js/vue-2.4.0.js"></script>
  <script>
    new Vue({
      el:'#app',
      data:{
        msg:'欢迎光临！请进来.',
        timer:null // 在data上定义 定时器Id才可以让停止和开始两个定时器的函数ID联系起来

      },
      methods:{ 
        start:function(){
          //设置多次点击，一直动，后面要重新给消除定时器在赋值null
          if(this.timer != null)return;
          //用定时器的箭头函数可以this指向外面，就不用之前定义
          this.timer = setInterval(() => {
            var strstart = this.msg.substring(0,1);
            var end =this.msg.substring(1);
            this.msg =end +strstart; 
          }, 500);
        },
        stop:function(){
          clearInterval(this.timer);
          // 后面要重新给消除定时器在赋值null
          this.timer = null ;
        }
      }
    })
  </script>
</body>
</html>